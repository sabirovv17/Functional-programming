# Отчёт по лабораторной работе №2

## Титульный лист
Студент: Сабиров Амир  
Работа: Лабораторная №2  
Вариант: sc-dict (Separate Chaining Hashmap, Dictionary)  
Язык: F#  

---

## Требования к разработанному ПО
- неизменяемая структура данных;
- полиморфный API;
- операции: добавление, удаление, фильтрация, map, foldLeft, foldRight;
- структура — моноид (нейтральный элемент и ассоциативная операция);
- unit testing;
- property-based testing (минимум 3 свойства, включая свойства моноида);
- разделение интерфейса и реализации, API не «протекает»;
- сравнение структур реализовано эффективно на уровне API.

---

## Ключевые элементы реализации
- Реализация `sc-dict` на базе separate chaining: массив бакетов, каждый бакет — список пар ключ-значение.
- Структура неизменяемая: все операции возвращают новое значение, исходное не изменяется.
- Интерфейс скрыт через `ScDict.fsi` — представление не доступно извне.
- API: `add`, `remove`, `filter`, `map`, `foldLeft`, `foldRight`, `tryFind`, `containsKey`, `toSeq`, `ofSeq`.
- Моноид:
  - нейтральный элемент: `empty`;
  - операция: `append` (правостороннее объединение с перезаписью значений).
- Эффективное сравнение: функция `equals` сравнивает размеры и проверяет все ключи через `tryFind` без приведения к спискам и сортировок.

Файлы:
- `src/ScDict/ScDict.fsi` — публичный интерфейс;
- `src/ScDict/ScDict.fs` — реализация;
- `tests/ScDict.Tests/Tests.fs` — unit и property-based тесты.

---

## Тесты, отчёт и метрики
### Unit tests
- пустая структура (`empty`/`size`);
- `add` и `tryFind`;
- `remove`;
- `map`;
- `filter`;
- приоритет правого словаря в `append`.

### Property-based tests
- нейтральность `empty` слева;
- нейтральность `empty` справа;
- ассоциативность `append`;
- `add` всегда делает ключ доступным через `tryFind`.

### Отчёт тестирования
Команда:
```
dotnet test lab2.slnx
```
Вывод:
```
Test summary: total: 10, failed: 0, succeeded: 10, skipped: 0, duration: 0,8s
Build succeeded in 2,5s
```

### Метрики
- Количество unit-тестов: 6
- Количество property-тестов: 4
- Всего тестов: 10
- Статус: все тесты пройдены

---

## Выводы
Реализована полиморфная неизменяемая структура данных `sc-dict` с полным функциональным API и моноидальной композицией. Тестирование покрывает как точечные сценарии, так и свойства (включая законы моноида), что подтверждает корректность реализации и устойчивость поведения при композиции операций.
