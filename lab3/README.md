# Отчёт по лабораторной работе №3

## Титульный лист
Студент: Сабиров Амир  
Работа: Лабораторная №3  
Язык: F#  

---

## Требования к разработанному ПО (по ТЗ)
- функциональный стиль программирования;
- ввод/вывод отделён от алгоритмов интерполяции;
- потоковый режим работы через stdin/stdout;
- входные данные в текстовом формате (`x;y` или `x\t y`), отсортированы по возрастанию `x`;
- обязательна линейная интерполяция;
- параметры алгоритма задаются через аргументы CLI;
- поддержка нескольких алгоритмов одновременно.

---

## Ключевые элементы реализации
- **Core** (`src/Interp.Core`): чистые функции интерполяции и потоковая обработка.
  - линейная интерполяция по двум точкам;
  - интерполяция Ньютона по окну из `n` точек;
  - потоковый режим реализован через чистые состояния `updateLinear`/`updateNewton`.
- **CLI** (`src/Interp.Cli`): парсинг аргументов, чтение stdin, форматирование вывода.
- **Тесты** (`tests/Interp.Tests`): unit + property-based (FsCheck).

Архитектура соответствует требованию разделения IO и вычислений.

---

## Ввод/вывод программы
**Вход**: строки `x;y` или `x\t y`, по возрастанию `x`, через stdin.  
**Выход**: `linear: x y` и/или `newton: x y` на stdout.

### Примеры
Запуск линейной интерполяции:
```bash
cat data.txt | dotnet run --project lab3/src/Interp.Cli -- --linear --step 0.7
```
Запуск Ньютона:
```bash
cat data.txt | dotnet run --project lab3/src/Interp.Cli -- --newton --n 4 --step 0.5
```
Совместный режим:
```bash
cat data.txt | dotnet run --project lab3/src/Interp.Cli -- --linear --newton --n 4 --step 0.5
```

---

## Тесты, отчёт, метрики
### Unit tests
- корректность концов отрезка при линейной интерполяции;
- интерполяция Ньютона проходит через заданные точки;
- потоковая линейная интерполяция использует общий шаг.

### Property-based tests
- линейная интерполяция воспроизводит значения на концах;
- Ньютона воспроизводит значения входных точек (после фильтрации NaN и дублей).

### Отчёт тестирования
Команда:
```
dotnet test lab3/lab3.slnx
```
Вывод:
```
Test summary: total: 5, failed: 0, succeeded: 5, skipped: 0, duration: 0,6s
```

---

## Выводы
Реализован потоковый интерполятор в функциональном стиле с разделением IO и вычислений. Программа поддерживает линейную интерполяцию и метод Ньютона, работает через stdin/stdout и позволяет задавать алгоритмы и параметры через CLI. Корректность подтверждена unit и property-based тестами.
